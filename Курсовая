# Техническое задание: Разработка приложения для управление клининговой компанией на платформе WPF

**Студент:** Тяженков Олег Матвеевич

**Группа:** 2307В1

## 1. Описание проекта

### 1.1 Название системы
Система учета администратора в клининговой компании

### 1.2 Назначение

Такая система позволяет исключить ошибки, сократить ручной труд и ускорить обработку данных, а так же сделать удобный и понятный график, как для работников, так и для клиентов.

## 2. Функциональные требования

### 2.1 Основные функции системы

###Функция 1: Управление клиентами и объектами
Описание: Добавление новых клиентов в базу данных и прикрепление к ним объектов уборки
          (квартира, офис, торговый центр и т.д.). Для каждого объекта указывается адрес, тип, 
          площадь и особые пожелания по уборке. Система автоматически присваивает уникальные 
          идентификаторы клиенту и каждому его объекту.

Входные данные: ФИО/Название клиента, контактные данные (телефон, email), адрес и тип объекта, площадь, особые пожелания.

Результат: Новый клиент и его объект добавлены в базу данных, сгенерированы уникальные ID.

###Функция 2: Формирование и учет заказов
Описание: Создание заказа на клининговые услуги для конкретного объекта.
          Администратор выбирает клиента и объект из базы, указывает тип уборки
          (например, генеральная, поддерживающая, послеремонтная), дату, время и 
          необходимое количество клинеров. Система рассчитывает предварительную 
          стоимость на основе типа уборки и площади объекта.

Входные данные: Выбранный клиент и объект, тип уборки, дата и время, количество клинеров.

Результат: Создан новый заказ в системе с рассчитанной стоимостью и статусом "Новый".

###Функция 3: Управление персоналом (клинерами)
Описание: Ведение базы данных сотрудников-клинеров. 
          Функция позволяет добавлять новых сотрудников, вносить их контактные
          и паспортные данные, указывать квалификацию и доступность. 
          Система присваивает каждому клинеру уникальный ID для учета.

Входные данные: ФИО клинера, контактный телефон, паспортные данные, квалификация.

Результат: Новый сотрудник добавлен в систему, ему присвоен уникальный ID.

###Функция 4: Назначение клинеров на заказы и формирование задания
Описание: Назначение одного или нескольких клинеров на созданный заказ.
          Система предоставляет список свободных (доступных) клинеров на выбранную дату.
          После назначения система автоматически формирует задание для клинера с указанием адреса,
          типа уборки и контактов клиента.

Входные данные: Выбранный заказ, выбор клинеров из списка доступных.

Результат: Заказ переведен в статус "Назначен", клинеры уведомлены, сформировано задание.

###Функция 5: Учет инвентаря и химии
Описание: Ведение базы расходных материалов и оборудования компании.
          Функция позволяет отслеживать остатки моющих средств, инвентаря, записывать
          их приход и расход на объектах. Система автоматически уменьшает остатки при 
          списании и может формировать уведомления о необходимости закупки.

Входные данные: Наименование товара, единица измерения, количество (при приходе или расходе).

Результат: Обновлены остатки на складе, запись о движении товара внесена в базу данных.

###Функция 6: Прием оплаты от клиента
Описание: Обработка платежей от клиентов за выполненные услуги.
          Администратор выбирает закрытый заказ, и система отображает его итоговую стоимость.
          Клиент может произвести оплату наличными или по карте через POS-терминал.
          Система интегрируется с платежным шлюзом для обработки безналичных платежей, проверяет корректность операции и фиксирует факт оплаты.

Входные данные: Выбранный выполненный заказ, способ оплаты (наличные/карта), данные карты (если применимо).

Результат: Платёж обработан и подтвержден, заказ переведен в статус "Оплачен", в базу данных внесена финансовая операция, формируется электронный чек.

###Функция 7: Формирование отчетов
Описание: Генерация стандартных отчетов для анализа работы компании.
          Администратор может сформировать отчеты по выручке за период, 
          по загрузке клинеров, по популярности типов уборки и по списку постоянных клиентов.

Входные данные: Период для отчета (начальная и конечная дата), тип отчета.

Результат: Сформированный отчет в табличном или графическом виде, доступный для просмотра на экране и выгрузки в формате Excel/PDF.

## 3. Структура базы данных

Опишите все таблицы (сущности) вашей базы данных. Для каждой таблицы укажите:
- Название таблицы
- Список полей с типами данных
- Связи с другими таблицами (Foreign Keys)

### Таблица 1: Клиенты

**Описание:** Хранит информацию о клиентах компании

**Поля:**
- Id (int, PK) — уникальный идентификатор клиента
- FullName (string) — ФИО физического лица или название организации
- Phone (string) — контактный телефон
- Email (string?) — email адрес (nullable)
- RegistrationDate (datetime) — дата регистрации клиента в системе
- ClientType (string) — тип клиента (физическое/юридическое лицо)
**Связи:**
- Связь один-ко-многим с таблицей Objects (один клиент может иметь несколько объектов)

### Таблица 2: Обьекты

**Описание:** Хранит информацию об обьектах уборки

**Поля:**
- Id (int, PK) — уникальный идентификатор объекта
- Address (string) — адрес объекта
- ObjectType (string) — тип объекта (квартира, офис, ТЦ, склад и т.д.)
- SquareMeters (decimal) — площадь объекта в м²
- SpecialInstructions (string?) — особые пожелания по уборке (nullable)
- ClientId (int, FK → Clients) — ссылка на клиента-владельца

**Связи:**
- Связь один-ко-многим с таблицей Orders (на одном объекте может быть много заказов)

### Таблица 3: Клинеры

Описание: Хранит информацию о сотрудниках-клинерах

**Поля:**
- Id (int, PK) — уникальный идентификатор клинера
- FulName (string) — ФИО клинера
- Phone (string) — контактный телефон
- PassportData (string) — паспортные данные
- Qualification (string) — квалификация/разряд
- HireDate (datetime) — дата приема на работу
- IsActive (bool) — флаг активности сотрудника
**Связи:**
- Связь многие-ко-многим с таблицей Orders через OrderAssignments

### Таблица 4: Типы услуг

Описание: Справочник типов клининговых услуг

**Поля:**
- Id (int, PK) — уникальный идентификатор типа услуги
- Name (string) — название услуги (генеральная, поддерживающая и т.д.)
- Description (string?) — описание услуги (nullable)
- BasePricePerSquareMeter (decimal) — базовая стоимость за м²
- EstimatedTimePerSquareMeter (int) — ориентировочное время на м² (в минутах)
**Связи:**
- Связь один-ко-многим с таблицей Orders (один тип услуги может быть в многих заказах)

### Таблица 5: Заказы

Описание: Хранит информацию о заказах на услуги

**Поля:**
- Id (int, PK) — уникальный идентификатор заказа
- OrderDate (datetime) — дата создания заказа
- ScheduledDate (datetime) — планируемая дата выполнения
- ScheduledTime (time) — планируемое время начала
- CleanersCount (int) — необходимое количество клинеров
- TotalCost (decimal) — итоговая стоимость заказа
- Status (string) — статус заказа (Новый, Назначен, В работе, Выполнен, Отменен)
- ObjectId (int, FK → Objects) — ссылка на объект уборки
- ServiceTypeId (int, FK → ServiceTypes) — ссылка на тип услуги
**Связи:**
- ObjectId → Objects.Id
- ServiceTypeId → ServiceTypes.Id
- Связь один-ко-многим с таблицей Payments (один заказ может иметь одну оплату)
- Связь многие-ко-многим с таблицей Cleaners через OrderAssignments

### Таблица 6: Назначение на заказы

Описание: Промежуточная таблица для связи заказов и клинеров (многие-ко-многим)

**Поля:**
- Id (int, PK) — уникальный идентификатор назначения
- OrderId (int, FK → Orders) — ссылка на заказ
- CleanerId (int, FK → Cleaners) — ссылка на клинера
- AssignmentDate (datetime) — дата назначения
**Связи:**
- OrderId → Orders.Id
- CleanerId → Cleaners.Id

### Таблица 7: Инвентарь

Описание: Учет клинингового инвентаря и химии

**Поля:**
- Id (int, PK) — уникальный идентификатор позиции
- Name (string) — наименование товара/инвентаря
- Category (string) — категория (химия, оборудование, инвентарь)
- UnitOfMeasure (string) — единица измерения (шт, л, кг)
- CurrentQuantity (decimal) — текущий остаток
- MinQuantity (decimal) — минимальный остаток для заказа
- -Supplier (string?) — поставщик (nullable)
**Связи:**
- Связь один-ко-многим с таблицей InventoryTransactions

### Таблица 8: Транзакции инвентаря

Описание: Учет движения инвентаря (приход/расход)

**Поля:**
- Id (int, PK) — уникальный идентификатор транзакции
- InventoryId (int, FK → Inventory) — ссылка на позицию инвентаря
- TransactionDate (datetime) — дата транзакции
- TransactionType (string) — тип операции (Приход, Расход, Списание)
- Quantity (decimal) — количество
- OrderId (int?, FK → Orders) — ссылка на заказ (если расход связан с заказом, nullable)
- Notes (string?) — примечания (nullable)
**Связи:**
- InventoryId → Inventory.Id
- OrderId → Orders.Id

### Таблица 9: Платежи

Описание: Учет платежей от клиентов

**Поля:**
- Id (int, PK) — уникальный идентификатор платежа
- OrderId (int, FK → Orders) — ссылка на оплачиваемый заказ
- PaymentDate (datetime) — дата и время платежа
- Amount (decimal) — сумма платежа
- PaymentMethod (string) — способ оплаты (Наличные, Карта, Перевод)
- Status (string) — статус платежа (Успешно, Ошибка, Ожидание)
- TransactionId (string?) — идентификатор транзакции от платежной системы (nullable)
**Связи:**
- OrderId → Orders.Id,

